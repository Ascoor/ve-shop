import{c as g,E,F as I,u as O,r as h,a as P,j as e,p as u}from"./index-BJd26WXb.js";import{B as i,C as m,d as j,b as y,c as k,I as q}from"./separator-DBKjGKze.js";import{u as R,j as U}from"./Footer-D7nHajXK.js";import{P as V}from"./plus-DnyPo8Q7.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=g("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=g("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=g("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Q=E()(I((s,d)=>({orders:[],addresses:[],currentCheckoutStep:1,checkoutData:{},addOrder:a=>{const r=`VE${Date.now().toString().slice(-8)}`,c={...a,id:Date.now().toString(),orderNumber:r,createdAt:new Date().toISOString()};return s(n=>({orders:[c,...n.orders]})),c},getOrderById:a=>d().orders.find(r=>r.id===a),updateOrderStatus:(a,r)=>{s(c=>({orders:c.orders.map(n=>n.id===a?{...n,status:r}:n)}))},addAddress:a=>{const r={...a,id:Date.now().toString()};s(c=>({addresses:[...c.addresses,r]}))},updateAddress:(a,r)=>{s(c=>({addresses:c.addresses.map(n=>n.id===a?{...n,...r}:n)}))},removeAddress:a=>{s(r=>({addresses:r.addresses.filter(c=>c.id!==a)}))},setDefaultAddress:a=>{s(r=>({addresses:r.addresses.map(c=>({...c,isDefault:c.id===a}))}))},setCheckoutStep:a=>{s({currentCheckoutStep:a})},setShippingAddress:a=>{s(r=>({checkoutData:{...r.checkoutData,shippingAddress:a}}))},setPaymentMethod:a=>{s(r=>({checkoutData:{...r.checkoutData,paymentMethod:a}}))},setCouponCode:(a,r)=>{s(c=>({checkoutData:{...c.checkoutData,couponCode:a,discount:r}}))},clearCheckout:()=>{s({currentCheckoutStep:1,checkoutData:{}})}}),{name:"ve-shop-orders"})),X=()=>{const{t:s}=O(["cart","ui"]),[d,a]=h.useState(""),[r,c]=h.useState(null),[n,f]=h.useState(0),{items:p,updateQuantity:S,removeItem:b,getSubtotal:w}=R(),{setCheckoutStep:_,setCouponCode:D}=Q(),{addNotification:$}=U(),{direction:A}=P(),l=w(),v=l*.1,x=l>100?0:9.99,F=l+v+x-n,C=(t,o)=>{o<1||S(t,o)},M=(t,o)=>{b(t),u.success(s("ui:toast.item_removed_from_cart")),$({type:"info",title:s("ui:toast.item_removed_from_cart"),message:`${o} ${s("cart:cart.remove_item")}`,category:"order"})},T=()=>{if(!d.trim())return;const o={SAVE10:10,WELCOME20:20,STUDENT15:15}[d.toUpperCase()];if(o){const N=l*o/100;f(N),c(d.toUpperCase()),D(d.toUpperCase(),N),u.success(s("cart:cart.coupon_applied",`Coupon applied! ${o}% discount`))}else u.error(s("cart:cart.invalid_coupon","Invalid coupon code"))},z=()=>{if(p.length===0){u.error(s("cart:cart.empty_cart"));return}_(2)};return p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:s("cart:cart.empty_cart")}),e.jsx(i,{onClick:()=>window.history.back(),children:s("cart:cart.continue_shopping")})]}):e.jsxs("div",{dir:A,className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:p.map(t=>e.jsx(m,{children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-foreground",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.color&&e.jsxs("span",{children:[s("cart:product.color","Color"),": ",t.color]}),t.size&&e.jsxs("span",{children:[s("cart:product.size","Size"),": ",t.size]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"font-semibold text-primary",children:["$",t.price.toFixed(2)]}),t.originalPrice&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",t.originalPrice.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"outline",size:"icon",onClick:()=>C(t.id,t.quantity-1),disabled:t.quantity<=1,children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:t.quantity}),e.jsx(i,{variant:"outline",size:"icon",onClick:()=>C(t.id,t.quantity+1),children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:"font-semibold",children:["$",(t.price*t.quantity).toFixed(2)]}),e.jsxs(i,{variant:"ghost",size:"sm",onClick:()=>M(t.id,t.name),className:"text-destructive hover:text-destructive",children:[e.jsx(L,{className:"w-4 h-4 me-1"}),s("cart:cart.remove_item")]})]})]})})},t.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{children:[e.jsx(y,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),s("cart:cart.coupon_code")]})}),e.jsx(j,{className:"space-y-3",children:r?e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:r}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>{c(null),f(0),a("")},className:"text-xs",children:s("cart:cart.remove","Remove")})]}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["$",n.toFixed(2)," ",s("cart:cart.discount")]})]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{placeholder:s("cart:cart.enter_coupon_code","Enter coupon code"),value:d,onChange:t=>a(t.target.value)}),e.jsx(i,{onClick:T,className:"w-full",children:s("cart:cart.apply_coupon")})]})})]}),e.jsxs(m,{className:"lg:col-span-2",children:[e.jsx(y,{children:e.jsx(k,{children:s("cart:checkout.order_summary")})}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.subtotal")}),e.jsxs("span",{children:["$",l.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.shipping")}),e.jsx("span",{children:x===0?s("cart:cart.free","Free"):`$${x.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.tax")}),e.jsxs("span",{children:["$",v.toFixed(2)]})]}),n>0&&e.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[e.jsx("span",{children:s("cart:cart.discount")}),e.jsxs("span",{children:["-$",n.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:s("cart:cart.total")}),e.jsxs("span",{children:["$",F.toFixed(2)]})]})}),e.jsx(i,{onClick:z,className:"w-full mt-4",children:s("cart:checkout.proceed_to_shipping","Proceed to Shipping")})]})]})]})]})};export{X as C,L as T,Q as u};
