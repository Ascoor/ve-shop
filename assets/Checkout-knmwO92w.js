import{c as D,q as Se,s as Ae,u as z,r as x,a as $,j as e,p as k,d as Re,e as ae,P as G,h as Y,f as U,g as Fe,l as Pe,b as de,m as ne}from"./index-BO8p3rZD.js";import{u as J,e as oe,D as W,f as X,g as ee,h as se,i as re,C as V,j as Ee,P as Ie,H as ze,F as $e}from"./Footer-D_a5mk3D.js";import{B as f,C as _,c as w,a as F,b as P,I as S,f as ie,d as Me,R as qe,g as Oe,h as De}from"./separator-BktzTBo_.js";import{P as H,S as Ge,C as L}from"./square-pen-DZlL0yKN.js";import{L as b}from"./label--2nEWzR8.js";import{C as Te}from"./checkbox-C3SGJK4T.js";import{S as Le,a as Be,b as Ue,c as Ve,d as I,C as K}from"./select-GjObylGo.js";import{u as He}from"./index-Dvk6dpb4.js";import{L as B,C as Ke}from"./lock-BmRB-5pE.js";import"./chevron-down-DhnFPRpX.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=D("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),O=Se()(Ae((s,a)=>({orders:[],addresses:[],currentCheckoutStep:1,checkoutData:{},addOrder:c=>{const t=`VE${Date.now().toString().slice(-8)}`,r={...c,id:Date.now().toString(),orderNumber:t,createdAt:new Date().toISOString()};return s(n=>({orders:[r,...n.orders]})),r},getOrderById:c=>a().orders.find(t=>t.id===c),updateOrderStatus:(c,t)=>{s(r=>({orders:r.orders.map(n=>n.id===c?{...n,status:t}:n)}))},addAddress:c=>{const t={...c,id:Date.now().toString()};s(r=>({addresses:[...r.addresses,t]}))},updateAddress:(c,t)=>{s(r=>({addresses:r.addresses.map(n=>n.id===c?{...n,...t}:n)}))},removeAddress:c=>{s(t=>({addresses:t.addresses.filter(r=>r.id!==c)}))},setDefaultAddress:c=>{s(t=>({addresses:t.addresses.map(r=>({...r,isDefault:r.id===c}))}))},setCheckoutStep:c=>{s({currentCheckoutStep:c})},setShippingAddress:c=>{s(t=>({checkoutData:{...t.checkoutData,shippingAddress:c}}))},setPaymentMethod:c=>{s(t=>({checkoutData:{...t.checkoutData,paymentMethod:c}}))},setCouponCode:(c,t)=>{s(r=>({checkoutData:{...r.checkoutData,couponCode:c,discount:t}}))},clearCheckout:()=>{s({currentCheckoutStep:1,checkoutData:{}})}}),{name:"ve-shop-orders"})),te=()=>{const{t:s}=z(["cart","ui"]),[a,c]=x.useState(""),[t,r]=x.useState(null),[n,o]=x.useState(0),{items:l,updateQuantity:p,removeItem:h,getSubtotal:j}=J(),{setCheckoutStep:i,setCouponCode:y}=O(),{addNotification:m}=oe(),{direction:g}=$(),v=j(),C=v*.1,A=v>100?0:9.99,E=v+C+A-n,R=(d,N)=>{N<1||p(d,N)},M=(d,N)=>{h(d),k.success(s("ui:toast.item_removed_from_cart")),m({type:"info",title:s("ui:toast.item_removed_from_cart"),message:`${N} ${s("cart:cart.remove_item")}`,category:"order"})},q=()=>{if(!a.trim())return;const N={SAVE10:10,WELCOME20:20,STUDENT15:15}[a.toUpperCase()];if(N){const Q=v*N/100;o(Q),r(a.toUpperCase()),y(a.toUpperCase(),Q),k.success(s("cart:cart.coupon_applied",`Coupon applied! ${N}% discount`))}else k.error(s("cart:cart.invalid_coupon","Invalid coupon code"))},u=()=>{if(l.length===0){k.error(s("cart:cart.empty_cart"));return}i(2)};return l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:s("cart:cart.empty_cart")}),e.jsx(f,{onClick:()=>window.history.back(),children:s("cart:cart.continue_shopping")})]}):e.jsxs("div",{dir:g,className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:l.map(d=>e.jsx(_,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("img",{src:d.image,alt:d.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-foreground",children:d.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.color&&e.jsxs("span",{children:[s("cart:product.color","Color"),": ",d.color]}),d.size&&e.jsxs("span",{children:[s("cart:product.size","Size"),": ",d.size]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"font-semibold text-primary",children:["$",d.price.toFixed(2)]}),d.originalPrice&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",d.originalPrice.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"outline",size:"icon",onClick:()=>R(d.id,d.quantity-1),disabled:d.quantity<=1,children:e.jsx(Je,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:d.quantity}),e.jsx(f,{variant:"outline",size:"icon",onClick:()=>R(d.id,d.quantity+1),children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:"font-semibold",children:["$",(d.price*d.quantity).toFixed(2)]}),e.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>M(d.id,d.name),className:"text-destructive hover:text-destructive",children:[e.jsx(le,{className:"w-4 h-4 me-1"}),s("cart:cart.remove_item")]})]})]})})},d.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(_,{children:[e.jsx(F,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),s("cart:cart.coupon_code")]})}),e.jsx(w,{className:"space-y-3",children:t?e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:t}),e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>{r(null),o(0),c("")},className:"text-xs",children:s("cart:cart.remove","Remove")})]}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["$",n.toFixed(2)," ",s("cart:cart.discount")]})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{placeholder:s("cart:cart.enter_coupon_code","Enter coupon code"),value:a,onChange:d=>c(d.target.value)}),e.jsx(f,{onClick:q,className:"w-full",children:s("cart:cart.apply_coupon")})]})})]}),e.jsxs(_,{className:"lg:col-span-2",children:[e.jsx(F,{children:e.jsx(P,{children:s("cart:checkout.order_summary")})}),e.jsxs(w,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.subtotal")}),e.jsxs("span",{children:["$",v.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.shipping")}),e.jsx("span",{children:A===0?s("cart:cart.free","Free"):`$${A.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.tax")}),e.jsxs("span",{children:["$",C.toFixed(2)]})]}),n>0&&e.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[e.jsx("span",{children:s("cart:cart.discount")}),e.jsxs("span",{children:["-$",n.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:s("cart:cart.total")}),e.jsxs("span",{children:["$",E.toFixed(2)]})]})}),e.jsx(f,{onClick:u,className:"w-full mt-4",children:s("cart:checkout.proceed_to_shipping","Proceed to Shipping")})]})]})]})]})},ce=({initialData:s,onSubmit:a,onCancel:c})=>{const{t}=z("cart"),[r,n]=x.useState({name:(s==null?void 0:s.name)||"",street:(s==null?void 0:s.street)||"",city:(s==null?void 0:s.city)||"",state:(s==null?void 0:s.state)||"",zipCode:(s==null?void 0:s.zipCode)||"",country:(s==null?void 0:s.country)||"US",phone:(s==null?void 0:s.phone)||"",isDefault:(s==null?void 0:s.isDefault)||!1}),[o,l]=x.useState({}),p=()=>{const i={};return r.name.trim()||(i.name=t("address.errors.name_required","Name is required")),r.street.trim()||(i.street=t("address.errors.street_required","Street address is required")),r.city.trim()||(i.city=t("address.errors.city_required","City is required")),r.state.trim()||(i.state=t("address.errors.state_required","State is required")),r.zipCode.trim()||(i.zipCode=t("address.errors.zip_required","ZIP code is required")),l(i),Object.keys(i).length===0},h=i=>{i.preventDefault(),p()&&a(r)},j=(i,y)=>{n(m=>({...m,[i]:y})),o[i]&&l(m=>({...m,[i]:""}))};return e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"name",children:[t("address.fields.name","Full Name")," *"]}),e.jsx(S,{id:"name",value:r.name,onChange:i=>j("name",i.target.value),placeholder:t("address.placeholders.name","Enter full name"),className:o.name?"border-destructive":""}),o.name&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:o.name})]}),e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"street",children:[t("address.fields.street","Street Address")," *"]}),e.jsx(S,{id:"street",value:r.street,onChange:i=>j("street",i.target.value),placeholder:t("address.placeholders.street","Enter street address"),className:o.street?"border-destructive":""}),o.street&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:o.street})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"city",children:[t("address.fields.city","City")," *"]}),e.jsx(S,{id:"city",value:r.city,onChange:i=>j("city",i.target.value),placeholder:t("address.placeholders.city","Enter city"),className:o.city?"border-destructive":""}),o.city&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:o.city})]}),e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"state",children:[t("address.fields.state","State")," *"]}),e.jsx(S,{id:"state",value:r.state,onChange:i=>j("state",i.target.value),placeholder:t("address.placeholders.state","Enter state"),className:o.state?"border-destructive":""}),o.state&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:o.state})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"zipCode",children:[t("address.fields.zip","ZIP Code")," *"]}),e.jsx(S,{id:"zipCode",value:r.zipCode,onChange:i=>j("zipCode",i.target.value),placeholder:t("address.placeholders.zip","Enter ZIP code"),className:o.zipCode?"border-destructive":""}),o.zipCode&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:o.zipCode})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"country",children:t("address.fields.country","Country")}),e.jsxs(Le,{value:r.country,onValueChange:i=>j("country",i),children:[e.jsx(Be,{children:e.jsx(Ue,{})}),e.jsxs(Ve,{children:[e.jsx(I,{value:"US",children:"United States"}),e.jsx(I,{value:"CA",children:"Canada"}),e.jsx(I,{value:"MX",children:"Mexico"}),e.jsx(I,{value:"GB",children:"United Kingdom"}),e.jsx(I,{value:"DE",children:"Germany"}),e.jsx(I,{value:"FR",children:"France"}),e.jsx(I,{value:"JP",children:"Japan"}),e.jsx(I,{value:"AU",children:"Australia"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"phone",children:t("address.fields.phone","Phone Number")}),e.jsx(S,{id:"phone",value:r.phone,onChange:i=>j("phone",i.target.value),placeholder:t("address.placeholders.phone","Enter phone number")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{id:"isDefault",checked:r.isDefault,onCheckedChange:i=>j("isDefault",i===!0)}),e.jsx(b,{htmlFor:"isDefault",className:"text-sm",children:t("address.fields.set_default","Set as default address")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:c,className:"flex-1",children:t("common:actions.cancel","Cancel")}),e.jsxs(f,{type:"submit",className:"flex-1",children:[s?t("common:actions.update","Update"):t("common:actions.add","Add")," ",t("address.address","Address")]})]})]})},Qe=()=>{const{t:s}=z("cart"),[a,c]=x.useState(null),[t,r]=x.useState(null),[n,o]=x.useState(!1),{direction:l}=$(),p=l==="rtl",{addresses:h,addAddress:j,updateAddress:i,removeAddress:y,setShippingAddress:m,setCheckoutStep:g,checkoutData:v}=O(),C=u=>{c(u),m(u)},A=u=>{j(u),o(!1),k.success(s("address.added_successfully","Address added successfully"))},E=u=>{t&&(i(t.id,u),r(null),k.success(s("address.updated_successfully","Address updated successfully")))},R=u=>{y(u.id),(a==null?void 0:a.id)===u.id&&c(null),k.success(s("address.removed_successfully","Address removed successfully"))},M=()=>{if(!a){k.error(s("checkout.select_shipping_address","Please select a shipping address"));return}g(3)},q=()=>{g(1)};return e.jsxs("div",{dir:l,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s("checkout.shipping_address")}),e.jsxs(W,{open:n,onOpenChange:o,children:[e.jsx(X,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(H,{className:"w-4 h-4 me-2"}),s("address.add_new","Add New Address")]})}),e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(re,{children:s("address.add_new")})}),e.jsx(ce,{onSubmit:A,onCancel:()=>o(!1)})]})]})]}),h.length===0?e.jsx(_,{children:e.jsxs(w,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:s("address.no_saved_addresses","No saved addresses found")}),e.jsxs(f,{onClick:()=>o(!0),children:[e.jsx(H,{className:"w-4 h-4 me-2"}),s("address.add_first","Add Your First Address")]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(u=>e.jsxs(_,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.id)===u.id?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>C(u),children:[e.jsx(F,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(P,{className:"text-base",children:u.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(W,{open:(t==null?void 0:t.id)===u.id,onOpenChange:d=>{d||r(null)},children:[e.jsx(X,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon",onClick:d=>{d.stopPropagation(),r(u)},children:e.jsx(Ge,{className:"w-4 h-4"})})}),e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(re,{children:s("address.edit","Edit Address")})}),e.jsx(ce,{initialData:u,onSubmit:E,onCancel:()=>r(null)})]})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:d=>{d.stopPropagation(),R(u)},className:"text-destructive hover:text-destructive",children:e.jsx(le,{className:"w-4 h-4"})})]})]})}),e.jsxs(w,{className:"pt-0",children:[e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("p",{children:u.street}),e.jsxs("p",{children:[u.city,", ",u.state," ",u.zipCode]}),e.jsx("p",{children:u.country}),u.phone&&e.jsxs("p",{children:[s("address.phone","Phone"),": ",u.phone]})]}),u.isDefault&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary/10 text-primary",children:s("address.default","Default")})})]})]},u.id))}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(f,{variant:"outline",onClick:q,children:p?e.jsxs(e.Fragment,{children:[s("checkout.back_to_cart","Back to Cart"),e.jsx(V,{className:"w-4 h-4 ms-2"})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4 me-2"}),s("checkout.back_to_cart","Back to Cart")]})}),e.jsx(f,{onClick:M,disabled:!a,children:p?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4 me-2"}),s("checkout.continue_to_payment","Continue to Payment")]}):e.jsxs(e.Fragment,{children:[s("checkout.continue_to_payment","Continue to Payment"),e.jsx(V,{className:"w-4 h-4 ms-2"})]})})]})]})};var Z="Radio",[We,ue]=ae(Z),[Xe,es]=We(Z),he=x.forwardRef((s,a)=>{const{__scopeRadio:c,name:t,checked:r=!1,required:n,disabled:o,value:l="on",onCheck:p,form:h,...j}=s,[i,y]=x.useState(null),m=Y(a,C=>y(C)),g=x.useRef(!1),v=i?h||!!i.closest("form"):!0;return e.jsxs(Xe,{scope:c,checked:r,disabled:o,children:[e.jsx(G.button,{type:"button",role:"radio","aria-checked":r,"data-state":je(r),"data-disabled":o?"":void 0,disabled:o,value:l,...j,ref:m,onClick:U(s.onClick,C=>{r||p==null||p(),v&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),v&&e.jsx(pe,{control:i,bubbles:!g.current,name:t,value:l,checked:r,required:n,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});he.displayName=Z;var xe="RadioIndicator",me=x.forwardRef((s,a)=>{const{__scopeRadio:c,forceMount:t,...r}=s,n=es(xe,c);return e.jsx(Fe,{present:t||n.checked,children:e.jsx(G.span,{"data-state":je(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:a})})});me.displayName=xe;var ss="RadioBubbleInput",pe=x.forwardRef(({__scopeRadio:s,control:a,checked:c,bubbles:t=!0,...r},n)=>{const o=x.useRef(null),l=Y(o,n),p=He(c),h=Pe(a);return x.useEffect(()=>{const j=o.current;if(!j)return;const i=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(i,"checked").set;if(p!==c&&m){const g=new Event("click",{bubbles:t});m.call(j,c),j.dispatchEvent(g)}},[p,c,t]),e.jsx(G.input,{type:"radio","aria-hidden":!0,defaultChecked:c,...r,tabIndex:-1,ref:l,style:{...r.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pe.displayName=ss;function je(s){return s?"checked":"unchecked"}var rs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T="RadioGroup",[ts,Ns]=ae(T,[ie,ue]),fe=ie(),ge=ue(),[cs,as]=ts(T),ve=x.forwardRef((s,a)=>{const{__scopeRadioGroup:c,name:t,defaultValue:r,value:n,required:o=!1,disabled:l=!1,orientation:p,dir:h,loop:j=!0,onValueChange:i,...y}=s,m=fe(c),g=Me(h),[v,C]=Re({prop:n,defaultProp:r??null,onChange:i,caller:T});return e.jsx(cs,{scope:c,name:t,required:o,disabled:l,value:v,onValueChange:C,children:e.jsx(qe,{asChild:!0,...m,orientation:p,dir:g,loop:j,children:e.jsx(G.div,{role:"radiogroup","aria-required":o,"aria-orientation":p,"data-disabled":l?"":void 0,dir:g,...y,ref:a})})})});ve.displayName=T;var ye="RadioGroupItem",Ne=x.forwardRef((s,a)=>{const{__scopeRadioGroup:c,disabled:t,...r}=s,n=as(ye,c),o=n.disabled||t,l=fe(c),p=ge(c),h=x.useRef(null),j=Y(a,h),i=n.value===r.value,y=x.useRef(!1);return x.useEffect(()=>{const m=v=>{rs.includes(v.key)&&(y.current=!0)},g=()=>y.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),e.jsx(Oe,{asChild:!0,...l,focusable:!o,active:i,children:e.jsx(he,{disabled:o,required:n.required,checked:i,...p,...r,name:n.name,ref:j,onCheck:()=>n.onValueChange(r.value),onKeyDown:U(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:U(r.onFocus,()=>{var m;y.current&&((m=h.current)==null||m.click())})})})});Ne.displayName=ye;var ds="RadioGroupIndicator",Ce=x.forwardRef((s,a)=>{const{__scopeRadioGroup:c,...t}=s,r=ge(c);return e.jsx(me,{...r,...t,ref:a})});Ce.displayName=ds;var be=ve,ke=Ne,ns=Ce;const _e=x.forwardRef(({className:s,...a},c)=>e.jsx(be,{className:de("grid gap-2",s),...a,ref:c}));_e.displayName=be.displayName;const we=x.forwardRef(({className:s,...a},c)=>e.jsx(ke,{ref:c,className:de("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(ns,{className:"flex items-center justify-center",children:e.jsx(Ee,{className:"h-2.5 w-2.5 fill-current text-current"})})}));we.displayName=ke.displayName;const os=()=>{const{t:s}=z("cart"),[a,c]=x.useState("stripe"),[t,r]=x.useState({number:"",expiry:"",cvc:"",name:""}),{setPaymentMethod:n,setCheckoutStep:o,checkoutData:l,addOrder:p}=O(),{items:h,getSubtotal:j,clearCart:i}=J(),{addNotification:y}=oe(),{direction:m}=$(),g=m==="rtl",v=j(),C=v*.1,A=v>100?0:9.99,E=l.discount||0,R=v+C+A-E,M=[{id:"stripe",name:"Credit/Debit Card",description:"Visa, Mastercard, American Express",icon:L},{id:"paypal",name:"PayPal",description:"Pay with your PayPal account",icon:L},{id:"apple-pay",name:"Apple Pay",description:"Touch ID or Face ID required",icon:L}],q=async()=>{if(!l.shippingAddress){k.error(s("checkout.missing_shipping_address","Shipping address is required"));return}if(!a){k.error(s("checkout.select_payment_method","Please select a payment method"));return}if(a==="stripe"&&(!t.number||!t.expiry||!t.cvc||!t.name)){k.error(s("checkout.complete_card_details","Please complete card details"));return}n(a);const d=p({items:h,total:R,subtotal:v,tax:C,shipping:A,status:"pending",shippingAddress:l.shippingAddress,paymentMethod:a,couponCode:l.couponCode,discount:E,estimatedDelivery:new Date(Date.now()+7*24*60*60*1e3).toISOString()});i(),y({type:"success",title:s("checkout.order_placed_successfully","Order Placed Successfully"),message:`${s("checkout.order_number","Order Number")}: ${d.orderNumber}`,category:"order"}),k.success(s("checkout.order_placed_successfully")),o(4)},u=()=>{o(2)};return e.jsxs("div",{dir:m,className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s("checkout.payment_method")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(_,{children:[e.jsx(F,{children:e.jsx(P,{children:s("checkout.select_payment_method","Select Payment Method")})}),e.jsx(w,{children:e.jsx(_e,{value:a,onValueChange:c,children:M.map(d=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[e.jsx(we,{value:d.id,id:d.id}),e.jsx(b,{htmlFor:d.id,className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d.icon,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]})]})})]},d.id))})})]}),a==="stripe"&&e.jsxs(_,{children:[e.jsx(F,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),s("checkout.card_details","Card Details")]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"cardName",children:s("checkout.cardholder_name","Cardholder Name")}),e.jsx(S,{id:"cardName",placeholder:"John Doe",value:t.name,onChange:d=>r(N=>({...N,name:d.target.value}))})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"cardNumber",children:s("checkout.card_number","Card Number")}),e.jsx(S,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:t.number,onChange:d=>r(N=>({...N,number:d.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"expiry",children:s("checkout.expiry_date","MM/YY")}),e.jsx(S,{id:"expiry",placeholder:"12/25",value:t.expiry,onChange:d=>r(N=>({...N,expiry:d.target.value}))})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"cvc",children:s("checkout.cvc","CVC")}),e.jsx(S,{id:"cvc",placeholder:"123",value:t.cvc,onChange:d=>r(N=>({...N,cvc:d.target.value}))})]})]})]})]})]}),e.jsxs(_,{children:[e.jsx(F,{children:e.jsx(P,{children:s("checkout.order_summary")})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s("cart.subtotal")}),e.jsxs("span",{children:["$",v.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s("cart.shipping")}),e.jsx("span",{children:A===0?s("cart.free","Free"):`$${A.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s("cart.tax")}),e.jsxs("span",{children:["$",C.toFixed(2)]})]}),E>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:s("cart.discount")}),e.jsxs("span",{children:["-$",E.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:s("cart.total")}),e.jsxs("span",{children:["$",R.toFixed(2)]})]})})]}),l.shippingAddress&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:s("checkout.shipping_to","Shipping to:")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:l.shippingAddress.name}),e.jsx("p",{children:l.shippingAddress.street}),e.jsxs("p",{children:[l.shippingAddress.city,","," ",l.shippingAddress.state]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(f,{variant:"outline",onClick:u,children:g?e.jsxs(e.Fragment,{children:[s("checkout.back_to_shipping","Back to Shipping"),e.jsx(V,{className:"w-4 h-4 ms-2"})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4 me-2"}),s("checkout.back_to_shipping","Back to Shipping")]})}),e.jsx(f,{onClick:q,className:"bg-green-600 hover:bg-green-700",children:g?e.jsxs(e.Fragment,{children:[s("checkout.place_order")," - $",R.toFixed(2),e.jsx(B,{className:"w-4 h-4 ms-2"})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4 me-2"}),s("checkout.place_order")," - $",R.toFixed(2)]})})]})]})},is=()=>{const{t:s}=z("cart"),a=ne(),{orders:c,clearCheckout:t}=O(),[r,n]=x.useState(c[0]),{direction:o}=$();x.useEffect(()=>{c.length>0&&n(c[0])},[c]);const l=()=>{t(),a("/")},p=()=>{a("/profile?tab=orders")};return r?e.jsxs("div",{dir:o,className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ke,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:s("order.order_confirmed")}),e.jsx("p",{className:"text-lg text-muted-foreground",children:s("order.thank_you")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(_,{children:[e.jsx(F,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),s("order.order_details")]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:s("order.order_number")}),e.jsx("span",{className:"text-primary font-mono",children:r.orderNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("order.order_date","Order Date")}),e.jsx("span",{children:new Date(r.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("order.order_status")}),e.jsx("span",{className:"capitalize bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-md text-sm",children:s(`order.${r.status}`,r.status)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("order.estimated_delivery")}),e.jsx("span",{children:r.estimatedDelivery?new Date(r.estimatedDelivery).toLocaleDateString():s("order.calculating","Calculating...")})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t",children:[e.jsx("span",{children:s("cart.total")}),e.jsxs("span",{children:["$",r.total.toFixed(2)]})]})]})]}),e.jsxs(_,{children:[e.jsx(F,{children:e.jsx(P,{children:s("checkout.shipping_address")})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"font-medium",children:r.shippingAddress.name}),e.jsx("p",{children:r.shippingAddress.street}),e.jsxs("p",{children:[r.shippingAddress.city,","," ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),e.jsx("p",{children:r.shippingAddress.country}),r.shippingAddress.phone&&e.jsxs("p",{children:[s("address.phone","Phone"),":"," ",r.shippingAddress.phone]})]})})]})]}),e.jsxs(_,{children:[e.jsx(F,{children:e.jsx(P,{children:s("order.items_ordered","Items Ordered")})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:r.items.map(h=>e.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[e.jsx("img",{src:h.image,alt:h.name,className:"w-12 h-12 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:h.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.color&&e.jsxs("span",{children:[s("product.color","Color"),": ",h.color," "]}),h.size&&e.jsxs("span",{children:[s("product.size","Size"),": ",h.size]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",h.price.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("product.qty","Qty"),": ",h.quantity]})]})]},h.id))})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsx(f,{onClick:l,variant:"outline",className:"flex-1",children:s("cart.continue_shopping")}),e.jsxs(f,{onClick:p,className:"flex-1",children:[s("order.view_order_details","View Order Details"),e.jsx(Ye,{className:"w-4 h-4 ms-2"})]})]}),e.jsx(_,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:s("order.confirmation_email","A confirmation email has been sent to your email address.")}),e.jsx("p",{children:s("order.tracking_info","You will receive tracking information once your order ships.")}),e.jsx("p",{children:s("order.support_message","If you have any questions, please contact our customer support.")})]})})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:s("order.no_order_found","No order found")}),e.jsx(f,{onClick:l,children:s("cart.continue_shopping")})]})},ls=({currentStep:s})=>{const{t:a}=z("cart"),{direction:c}=$(),t=c==="rtl",r=[{key:1,label:a("checkout.cart_review","Cart Review")},{key:2,label:a("checkout.shipping_address")},{key:3,label:a("checkout.payment_method")},{key:4,label:a("checkout.confirmation","Confirmation")}];return e.jsx("div",{dir:c,className:`flex items-center justify-between mb-8 ${t?"flex-row-reverse":""}`,children:r.map((n,o)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${n.key<s||n.key===s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:n.key<s?e.jsx(De,{className:"w-4 h-4"}):n.key}),e.jsx("span",{className:`ms-2 text-sm font-medium transition-colors ${n.key<=s?"text-foreground":"text-muted-foreground"}`,children:n.label})]}),o<r.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 transition-colors ${n.key<s?"bg-primary":"bg-muted"}`})]},n.key))})},Cs=()=>{const{t:s}=z("cart"),a=ne(),{currentCheckoutStep:c,setCheckoutStep:t,clearCheckout:r}=O(),{items:n,getItemCount:o}=J(),{direction:l}=$();x.useEffect(()=>{o()===0&&c<4&&a("/")},[o,c,a]),x.useEffect(()=>()=>{c===4&&r()},[c,r]);const p=()=>{switch(c){case 1:return e.jsx(te,{});case 2:return e.jsx(Qe,{});case 3:return e.jsx(os,{});case 4:return e.jsx(is,{});default:return e.jsx(te,{})}};return e.jsxs("div",{className:"min-h-screen bg-background",dir:l,children:[e.jsx(ze,{}),e.jsx("main",{className:"py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:s("checkout.checkout")}),e.jsx(ls,{currentStep:c})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border p-6",children:p()})]})}),e.jsx($e,{})]})};export{Cs as default};
