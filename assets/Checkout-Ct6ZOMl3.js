import{c as q,q as ke,s as _e,u as I,r as x,j as e,p as k,d as we,e as se,P as O,h as U,f as T,g as Se,l as Ae,b as re,m as te}from"./index-DflcbV5P.js";import{u as V,e as ae,D as K,f as Y,g as J,h as Z,i as Q,C as Re,j as Pe,P as Fe,H as Ee,F as Ie}from"./Footer-Coe7a5Dv.js";import{B as g,C as _,c as w,a as A,b as R,I as S,f as ce,d as ze,R as Me,g as $e,h as qe}from"./separator-BAggSwvi.js";import{P as L,S as Oe,C as G}from"./square-pen-BFGT82IR.js";import{L as b}from"./label-Cmy2tqq-.js";import{C as De}from"./checkbox-CR7ut8EW.js";import{S as Ge,a as Te,b as Le,c as Ue,d as F,C as de}from"./select-Ck4c1Yuy.js";import{u as Ve}from"./index-2T-_wuhP.js";import{L as W,C as Be}from"./lock-CDbY6K9s.js";import"./chevron-down-BYqy1hrF.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=q("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),$=ke()(_e((s,c)=>({orders:[],addresses:[],currentCheckoutStep:1,checkoutData:{},addOrder:a=>{const r=`VE${Date.now().toString().slice(-8)}`,t={...a,id:Date.now().toString(),orderNumber:r,createdAt:new Date().toISOString()};return s(o=>({orders:[t,...o.orders]})),t},getOrderById:a=>c().orders.find(r=>r.id===a),updateOrderStatus:(a,r)=>{s(t=>({orders:t.orders.map(o=>o.id===a?{...o,status:r}:o)}))},addAddress:a=>{const r={...a,id:Date.now().toString()};s(t=>({addresses:[...t.addresses,r]}))},updateAddress:(a,r)=>{s(t=>({addresses:t.addresses.map(o=>o.id===a?{...o,...r}:o)}))},removeAddress:a=>{s(r=>({addresses:r.addresses.filter(t=>t.id!==a)}))},setDefaultAddress:a=>{s(r=>({addresses:r.addresses.map(t=>({...t,isDefault:t.id===a}))}))},setCheckoutStep:a=>{s({currentCheckoutStep:a})},setShippingAddress:a=>{s(r=>({checkoutData:{...r.checkoutData,shippingAddress:a}}))},setPaymentMethod:a=>{s(r=>({checkoutData:{...r.checkoutData,paymentMethod:a}}))},setCouponCode:(a,r)=>{s(t=>({checkoutData:{...t.checkoutData,couponCode:a,discount:r}}))},clearCheckout:()=>{s({currentCheckoutStep:1,checkoutData:{}})}}),{name:"ve-shop-orders"})),X=()=>{const{t:s}=I(["cart","ui"]),[c,a]=x.useState(""),[r,t]=x.useState(null),[o,d]=x.useState(0),{items:l,updateQuantity:u,removeItem:v,getSubtotal:j}=V(),{setCheckoutStep:n,setCouponCode:y}=$(),{addNotification:m}=ae(),f=j(),C=f*.1,N=f>100?0:9.99,E=f+C+N-o,z=(i,P)=>{P<1||u(i,P)},M=(i,P)=>{v(i),k.success(s("ui:toast.item_removed_from_cart")),m({type:"info",title:s("ui:toast.item_removed_from_cart"),message:`${P} ${s("cart:cart.remove_item")}`,category:"order"})},h=()=>{if(!c.trim())return;const P={SAVE10:10,WELCOME20:20,STUDENT15:15}[c.toUpperCase()];if(P){const H=f*P/100;d(H),t(c.toUpperCase()),y(c.toUpperCase(),H),k.success(s("cart:cart.coupon_applied",`Coupon applied! ${P}% discount`))}else k.error(s("cart:cart.invalid_coupon","Invalid coupon code"))},p=()=>{if(l.length===0){k.error(s("cart:cart.empty_cart"));return}n(2)};return l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:s("cart:cart.empty_cart")}),e.jsx(g,{onClick:()=>window.history.back(),children:s("cart:cart.continue_shopping")})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:l.map(i=>e.jsx(_,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-foreground",children:i.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.color&&e.jsxs("span",{children:[s("cart:product.color","Color"),": ",i.color]}),i.size&&e.jsxs("span",{children:[s("cart:product.size","Size"),": ",i.size]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"font-semibold text-primary",children:["$",i.price.toFixed(2)]}),i.originalPrice&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",i.originalPrice.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:"outline",size:"icon",onClick:()=>z(i.id,i.quantity-1),disabled:i.quantity<=1,children:e.jsx(Ke,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:i.quantity}),e.jsx(g,{variant:"outline",size:"icon",onClick:()=>z(i.id,i.quantity+1),children:e.jsx(L,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:["$",(i.price*i.quantity).toFixed(2)]}),e.jsxs(g,{variant:"ghost",size:"sm",onClick:()=>M(i.id,i.name),className:"text-destructive hover:text-destructive",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),s("cart:cart.remove_item")]})]})]})})},i.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(_,{children:[e.jsx(A,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5"}),s("cart:cart.coupon_code")]})}),e.jsx(w,{className:"space-y-3",children:r?e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:r}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>{t(null),d(0),a("")},className:"text-xs",children:s("cart:cart.remove","Remove")})]}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["$",o.toFixed(2)," ",s("cart:cart.discount")]})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{placeholder:s("cart:cart.enter_coupon_code","Enter coupon code"),value:c,onChange:i=>a(i.target.value)}),e.jsx(g,{onClick:h,className:"w-full",children:s("cart:cart.apply_coupon")})]})})]}),e.jsxs(_,{className:"lg:col-span-2",children:[e.jsx(A,{children:e.jsx(R,{children:s("cart:checkout.order_summary")})}),e.jsxs(w,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.subtotal")}),e.jsxs("span",{children:["$",f.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.shipping")}),e.jsx("span",{children:N===0?s("cart:cart.free","Free"):`$${N.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("cart:cart.tax")}),e.jsxs("span",{children:["$",C.toFixed(2)]})]}),o>0&&e.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[e.jsx("span",{children:s("cart:cart.discount")}),e.jsxs("span",{children:["-$",o.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:s("cart:cart.total")}),e.jsxs("span",{children:["$",E.toFixed(2)]})]})}),e.jsx(g,{onClick:p,className:"w-full mt-4",children:s("cart:checkout.proceed_to_shipping","Proceed to Shipping")})]})]})]})]})},ee=({initialData:s,onSubmit:c,onCancel:a})=>{const{t:r}=I("cart"),[t,o]=x.useState({name:(s==null?void 0:s.name)||"",street:(s==null?void 0:s.street)||"",city:(s==null?void 0:s.city)||"",state:(s==null?void 0:s.state)||"",zipCode:(s==null?void 0:s.zipCode)||"",country:(s==null?void 0:s.country)||"US",phone:(s==null?void 0:s.phone)||"",isDefault:(s==null?void 0:s.isDefault)||!1}),[d,l]=x.useState({}),u=()=>{const n={};return t.name.trim()||(n.name=r("address.errors.name_required","Name is required")),t.street.trim()||(n.street=r("address.errors.street_required","Street address is required")),t.city.trim()||(n.city=r("address.errors.city_required","City is required")),t.state.trim()||(n.state=r("address.errors.state_required","State is required")),t.zipCode.trim()||(n.zipCode=r("address.errors.zip_required","ZIP code is required")),l(n),Object.keys(n).length===0},v=n=>{n.preventDefault(),u()&&c(t)},j=(n,y)=>{o(m=>({...m,[n]:y})),d[n]&&l(m=>({...m,[n]:""}))};return e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"name",children:[r("address.fields.name","Full Name")," *"]}),e.jsx(S,{id:"name",value:t.name,onChange:n=>j("name",n.target.value),placeholder:r("address.placeholders.name","Enter full name"),className:d.name?"border-destructive":""}),d.name&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:d.name})]}),e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"street",children:[r("address.fields.street","Street Address")," *"]}),e.jsx(S,{id:"street",value:t.street,onChange:n=>j("street",n.target.value),placeholder:r("address.placeholders.street","Enter street address"),className:d.street?"border-destructive":""}),d.street&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:d.street})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"city",children:[r("address.fields.city","City")," *"]}),e.jsx(S,{id:"city",value:t.city,onChange:n=>j("city",n.target.value),placeholder:r("address.placeholders.city","Enter city"),className:d.city?"border-destructive":""}),d.city&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:d.city})]}),e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"state",children:[r("address.fields.state","State")," *"]}),e.jsx(S,{id:"state",value:t.state,onChange:n=>j("state",n.target.value),placeholder:r("address.placeholders.state","Enter state"),className:d.state?"border-destructive":""}),d.state&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:d.state})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"zipCode",children:[r("address.fields.zip","ZIP Code")," *"]}),e.jsx(S,{id:"zipCode",value:t.zipCode,onChange:n=>j("zipCode",n.target.value),placeholder:r("address.placeholders.zip","Enter ZIP code"),className:d.zipCode?"border-destructive":""}),d.zipCode&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:d.zipCode})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"country",children:r("address.fields.country","Country")}),e.jsxs(Ge,{value:t.country,onValueChange:n=>j("country",n),children:[e.jsx(Te,{children:e.jsx(Le,{})}),e.jsxs(Ue,{children:[e.jsx(F,{value:"US",children:"United States"}),e.jsx(F,{value:"CA",children:"Canada"}),e.jsx(F,{value:"MX",children:"Mexico"}),e.jsx(F,{value:"GB",children:"United Kingdom"}),e.jsx(F,{value:"DE",children:"Germany"}),e.jsx(F,{value:"FR",children:"France"}),e.jsx(F,{value:"JP",children:"Japan"}),e.jsx(F,{value:"AU",children:"Australia"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"phone",children:r("address.fields.phone","Phone Number")}),e.jsx(S,{id:"phone",value:t.phone,onChange:n=>j("phone",n.target.value),placeholder:r("address.placeholders.phone","Enter phone number")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{id:"isDefault",checked:t.isDefault,onCheckedChange:n=>j("isDefault",n===!0)}),e.jsx(b,{htmlFor:"isDefault",className:"text-sm",children:r("address.fields.set_default","Set as default address")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:a,className:"flex-1",children:r("common:actions.cancel","Cancel")}),e.jsxs(g,{type:"submit",className:"flex-1",children:[s?r("common:actions.update","Update"):r("common:actions.add","Add")," ",r("address.address","Address")]})]})]})},Je=()=>{const{t:s}=I("cart"),[c,a]=x.useState(null),[r,t]=x.useState(null),[o,d]=x.useState(!1),{addresses:l,addAddress:u,updateAddress:v,removeAddress:j,setShippingAddress:n,setCheckoutStep:y,checkoutData:m}=$(),f=h=>{a(h),n(h)},C=h=>{u(h),d(!1),k.success(s("address.added_successfully","Address added successfully"))},N=h=>{r&&(v(r.id,h),t(null),k.success(s("address.updated_successfully","Address updated successfully")))},E=h=>{j(h.id),(c==null?void 0:c.id)===h.id&&a(null),k.success(s("address.removed_successfully","Address removed successfully"))},z=()=>{if(!c){k.error(s("checkout.select_shipping_address","Please select a shipping address"));return}y(3)},M=()=>{y(1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s("checkout.shipping_address")}),e.jsxs(K,{open:o,onOpenChange:d,children:[e.jsx(Y,{asChild:!0,children:e.jsxs(g,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),s("address.add_new","Add New Address")]})}),e.jsxs(J,{children:[e.jsx(Z,{children:e.jsx(Q,{children:s("address.add_new")})}),e.jsx(ee,{onSubmit:C,onCancel:()=>d(!1)})]})]})]}),l.length===0?e.jsx(_,{children:e.jsxs(w,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:s("address.no_saved_addresses","No saved addresses found")}),e.jsxs(g,{onClick:()=>d(!0),children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),s("address.add_first","Add Your First Address")]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(h=>e.jsxs(_,{className:`cursor-pointer transition-colors ${(c==null?void 0:c.id)===h.id?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>f(h),children:[e.jsx(A,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-base",children:h.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(K,{open:(r==null?void 0:r.id)===h.id,onOpenChange:p=>{p||t(null)},children:[e.jsx(Y,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"icon",onClick:p=>{p.stopPropagation(),t(h)},children:e.jsx(Oe,{className:"w-4 h-4"})})}),e.jsxs(J,{children:[e.jsx(Z,{children:e.jsx(Q,{children:s("address.edit","Edit Address")})}),e.jsx(ee,{initialData:h,onSubmit:N,onCancel:()=>t(null)})]})]}),e.jsx(g,{variant:"ghost",size:"icon",onClick:p=>{p.stopPropagation(),E(h)},className:"text-destructive hover:text-destructive",children:e.jsx(ne,{className:"w-4 h-4"})})]})]})}),e.jsxs(w,{className:"pt-0",children:[e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("p",{children:h.street}),e.jsxs("p",{children:[h.city,", ",h.state," ",h.zipCode]}),e.jsx("p",{children:h.country}),h.phone&&e.jsxs("p",{children:[s("address.phone","Phone"),": ",h.phone]})]}),h.isDefault&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary/10 text-primary",children:s("address.default","Default")})})]})]},h.id))}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(g,{variant:"outline",onClick:M,children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),s("checkout.back_to_cart","Back to Cart")]}),e.jsxs(g,{onClick:z,disabled:!c,children:[s("checkout.continue_to_payment","Continue to Payment"),e.jsx(Re,{className:"w-4 h-4 ml-2"})]})]})]})};var B="Radio",[Ze,oe]=se(B),[Qe,We]=Ze(B),ie=x.forwardRef((s,c)=>{const{__scopeRadio:a,name:r,checked:t=!1,required:o,disabled:d,value:l="on",onCheck:u,form:v,...j}=s,[n,y]=x.useState(null),m=U(c,N=>y(N)),f=x.useRef(!1),C=n?v||!!n.closest("form"):!0;return e.jsxs(Qe,{scope:a,checked:t,disabled:d,children:[e.jsx(O.button,{type:"button",role:"radio","aria-checked":t,"data-state":xe(t),"data-disabled":d?"":void 0,disabled:d,value:l,...j,ref:m,onClick:T(s.onClick,N=>{t||u==null||u(),C&&(f.current=N.isPropagationStopped(),f.current||N.stopPropagation())})}),C&&e.jsx(he,{control:n,bubbles:!f.current,name:r,value:l,checked:t,required:o,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});ie.displayName=B;var le="RadioIndicator",ue=x.forwardRef((s,c)=>{const{__scopeRadio:a,forceMount:r,...t}=s,o=We(le,a);return e.jsx(Se,{present:r||o.checked,children:e.jsx(O.span,{"data-state":xe(o.checked),"data-disabled":o.disabled?"":void 0,...t,ref:c})})});ue.displayName=le;var Xe="RadioBubbleInput",he=x.forwardRef(({__scopeRadio:s,control:c,checked:a,bubbles:r=!0,...t},o)=>{const d=x.useRef(null),l=U(d,o),u=Ve(a),v=Ae(c);return x.useEffect(()=>{const j=d.current;if(!j)return;const n=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(n,"checked").set;if(u!==a&&m){const f=new Event("click",{bubbles:r});m.call(j,a),j.dispatchEvent(f)}},[u,a,r]),e.jsx(O.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...t,tabIndex:-1,ref:l,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});he.displayName=Xe;function xe(s){return s?"checked":"unchecked"}var es=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],D="RadioGroup",[ss,vs]=se(D,[ce,oe]),me=ce(),pe=oe(),[rs,ts]=ss(D),je=x.forwardRef((s,c)=>{const{__scopeRadioGroup:a,name:r,defaultValue:t,value:o,required:d=!1,disabled:l=!1,orientation:u,dir:v,loop:j=!0,onValueChange:n,...y}=s,m=me(a),f=ze(v),[C,N]=we({prop:o,defaultProp:t??null,onChange:n,caller:D});return e.jsx(rs,{scope:a,name:r,required:d,disabled:l,value:C,onValueChange:N,children:e.jsx(Me,{asChild:!0,...m,orientation:u,dir:f,loop:j,children:e.jsx(O.div,{role:"radiogroup","aria-required":d,"aria-orientation":u,"data-disabled":l?"":void 0,dir:f,...y,ref:c})})})});je.displayName=D;var fe="RadioGroupItem",ge=x.forwardRef((s,c)=>{const{__scopeRadioGroup:a,disabled:r,...t}=s,o=ts(fe,a),d=o.disabled||r,l=me(a),u=pe(a),v=x.useRef(null),j=U(c,v),n=o.value===t.value,y=x.useRef(!1);return x.useEffect(()=>{const m=C=>{es.includes(C.key)&&(y.current=!0)},f=()=>y.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",f)}},[]),e.jsx($e,{asChild:!0,...l,focusable:!d,active:n,children:e.jsx(ie,{disabled:d,required:o.required,checked:n,...u,...t,name:o.name,ref:j,onCheck:()=>o.onValueChange(t.value),onKeyDown:T(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:T(t.onFocus,()=>{var m;y.current&&((m=v.current)==null||m.click())})})})});ge.displayName=fe;var as="RadioGroupIndicator",ve=x.forwardRef((s,c)=>{const{__scopeRadioGroup:a,...r}=s,t=pe(a);return e.jsx(ue,{...t,...r,ref:c})});ve.displayName=as;var ye=je,Ne=ge,cs=ve;const Ce=x.forwardRef(({className:s,...c},a)=>e.jsx(ye,{className:re("grid gap-2",s),...c,ref:a}));Ce.displayName=ye.displayName;const be=x.forwardRef(({className:s,...c},a)=>e.jsx(Ne,{ref:a,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...c,children:e.jsx(cs,{className:"flex items-center justify-center",children:e.jsx(Pe,{className:"h-2.5 w-2.5 fill-current text-current"})})}));be.displayName=Ne.displayName;const ds=()=>{const{t:s}=I("cart"),[c,a]=x.useState("stripe"),[r,t]=x.useState({number:"",expiry:"",cvc:"",name:""}),{setPaymentMethod:o,setCheckoutStep:d,checkoutData:l,addOrder:u}=$(),{items:v,getSubtotal:j,clearCart:n}=V(),{addNotification:y}=ae(),m=j(),f=m*.1,C=m>100?0:9.99,N=l.discount||0,E=m+f+C-N,z=[{id:"stripe",name:"Credit/Debit Card",description:"Visa, Mastercard, American Express",icon:G},{id:"paypal",name:"PayPal",description:"Pay with your PayPal account",icon:G},{id:"apple-pay",name:"Apple Pay",description:"Touch ID or Face ID required",icon:G}],M=async()=>{if(!l.shippingAddress){k.error(s("checkout.missing_shipping_address","Shipping address is required"));return}if(!c){k.error(s("checkout.select_payment_method","Please select a payment method"));return}if(c==="stripe"&&(!r.number||!r.expiry||!r.cvc||!r.name)){k.error(s("checkout.complete_card_details","Please complete card details"));return}o(c);const p=u({items:v,total:E,subtotal:m,tax:f,shipping:C,status:"pending",shippingAddress:l.shippingAddress,paymentMethod:c,couponCode:l.couponCode,discount:N,estimatedDelivery:new Date(Date.now()+7*24*60*60*1e3).toISOString()});n(),y({type:"success",title:s("checkout.order_placed_successfully","Order Placed Successfully"),message:`${s("checkout.order_number","Order Number")}: ${p.orderNumber}`,category:"order"}),k.success(s("checkout.order_placed_successfully")),d(4)},h=()=>{d(2)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s("checkout.payment_method")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(_,{children:[e.jsx(A,{children:e.jsx(R,{children:s("checkout.select_payment_method","Select Payment Method")})}),e.jsx(w,{children:e.jsx(Ce,{value:c,onValueChange:a,children:z.map(p=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[e.jsx(be,{value:p.id,id:p.id}),e.jsx(b,{htmlFor:p.id,className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p.icon,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:p.description})]})]})})]},p.id))})})]}),c==="stripe"&&e.jsxs(_,{children:[e.jsx(A,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),s("checkout.card_details","Card Details")]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"cardName",children:s("checkout.cardholder_name","Cardholder Name")}),e.jsx(S,{id:"cardName",placeholder:"John Doe",value:r.name,onChange:p=>t(i=>({...i,name:p.target.value}))})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"cardNumber",children:s("checkout.card_number","Card Number")}),e.jsx(S,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:r.number,onChange:p=>t(i=>({...i,number:p.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"expiry",children:s("checkout.expiry_date","MM/YY")}),e.jsx(S,{id:"expiry",placeholder:"12/25",value:r.expiry,onChange:p=>t(i=>({...i,expiry:p.target.value}))})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"cvc",children:s("checkout.cvc","CVC")}),e.jsx(S,{id:"cvc",placeholder:"123",value:r.cvc,onChange:p=>t(i=>({...i,cvc:p.target.value}))})]})]})]})]})]}),e.jsxs(_,{children:[e.jsx(A,{children:e.jsx(R,{children:s("checkout.order_summary")})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s("cart.subtotal")}),e.jsxs("span",{children:["$",m.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s("cart.shipping")}),e.jsx("span",{children:C===0?s("cart.free","Free"):`$${C.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s("cart.tax")}),e.jsxs("span",{children:["$",f.toFixed(2)]})]}),N>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:s("cart.discount")}),e.jsxs("span",{children:["-$",N.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:s("cart.total")}),e.jsxs("span",{children:["$",E.toFixed(2)]})]})})]}),l.shippingAddress&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:s("checkout.shipping_to","Shipping to:")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:l.shippingAddress.name}),e.jsx("p",{children:l.shippingAddress.street}),e.jsxs("p",{children:[l.shippingAddress.city,", ",l.shippingAddress.state]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(g,{variant:"outline",onClick:h,children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),s("checkout.back_to_shipping","Back to Shipping")]}),e.jsxs(g,{onClick:M,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),s("checkout.place_order")," - $",E.toFixed(2)]})]})]})},ns=()=>{const{t:s}=I("cart"),c=te(),{orders:a,clearCheckout:r}=$(),[t,o]=x.useState(a[0]);x.useEffect(()=>{a.length>0&&o(a[0])},[a]);const d=()=>{r(),c("/")},l=()=>{c("/profile?tab=orders")};return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Be,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:s("order.order_confirmed")}),e.jsx("p",{className:"text-lg text-muted-foreground",children:s("order.thank_you")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(_,{children:[e.jsx(A,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5"}),s("order.order_details")]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:s("order.order_number")}),e.jsx("span",{className:"text-primary font-mono",children:t.orderNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("order.order_date","Order Date")}),e.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("order.order_status")}),e.jsx("span",{className:"capitalize bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-md text-sm",children:s(`order.${t.status}`,t.status)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:s("order.estimated_delivery")}),e.jsx("span",{children:t.estimatedDelivery?new Date(t.estimatedDelivery).toLocaleDateString():s("order.calculating","Calculating...")})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t",children:[e.jsx("span",{children:s("cart.total")}),e.jsxs("span",{children:["$",t.total.toFixed(2)]})]})]})]}),e.jsxs(_,{children:[e.jsx(A,{children:e.jsx(R,{children:s("checkout.shipping_address")})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"font-medium",children:t.shippingAddress.name}),e.jsx("p",{children:t.shippingAddress.street}),e.jsxs("p",{children:[t.shippingAddress.city,", ",t.shippingAddress.state," ",t.shippingAddress.zipCode]}),e.jsx("p",{children:t.shippingAddress.country}),t.shippingAddress.phone&&e.jsxs("p",{children:[s("address.phone","Phone"),": ",t.shippingAddress.phone]})]})})]})]}),e.jsxs(_,{children:[e.jsx(A,{children:e.jsx(R,{children:s("order.items_ordered","Items Ordered")})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:t.items.map(u=>e.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[e.jsx("img",{src:u.image,alt:u.name,className:"w-12 h-12 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:u.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.color&&e.jsxs("span",{children:[s("product.color","Color"),": ",u.color," "]}),u.size&&e.jsxs("span",{children:[s("product.size","Size"),": ",u.size]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",u.price.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s("product.qty","Qty"),": ",u.quantity]})]})]},u.id))})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsx(g,{onClick:d,variant:"outline",className:"flex-1",children:s("cart.continue_shopping")}),e.jsxs(g,{onClick:l,className:"flex-1",children:[s("order.view_order_details","View Order Details"),e.jsx(He,{className:"w-4 h-4 ml-2"})]})]}),e.jsx(_,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:s("order.confirmation_email","A confirmation email has been sent to your email address.")}),e.jsx("p",{children:s("order.tracking_info","You will receive tracking information once your order ships.")}),e.jsx("p",{children:s("order.support_message","If you have any questions, please contact our customer support.")})]})})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:s("order.no_order_found","No order found")}),e.jsx(g,{onClick:d,children:s("cart.continue_shopping")})]})},os=({currentStep:s})=>{const{t:c}=I("cart"),a=[{key:1,label:c("checkout.cart_review","Cart Review")},{key:2,label:c("checkout.shipping_address")},{key:3,label:c("checkout.payment_method")},{key:4,label:c("checkout.confirmation","Confirmation")}];return e.jsx("div",{className:"flex items-center justify-between mb-8",children:a.map((r,t)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${r.key<s||r.key===s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:r.key<s?e.jsx(qe,{className:"w-4 h-4"}):r.key}),e.jsx("span",{className:`ml-2 text-sm font-medium transition-colors ${r.key<=s?"text-foreground":"text-muted-foreground"}`,children:r.label})]}),t<a.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 transition-colors ${r.key<s?"bg-primary":"bg-muted"}`})]},r.key))})},ys=()=>{const{t:s}=I("cart"),c=te(),{currentCheckoutStep:a,setCheckoutStep:r,clearCheckout:t}=$(),{items:o,getItemCount:d}=V();x.useEffect(()=>{d()===0&&a<4&&c("/")},[d,a,c]),x.useEffect(()=>()=>{a===4&&t()},[a,t]);const l=()=>{switch(a){case 1:return e.jsx(X,{});case 2:return e.jsx(Je,{});case 3:return e.jsx(ds,{});case 4:return e.jsx(ns,{});default:return e.jsx(X,{})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Ee,{}),e.jsx("main",{className:"py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:s("checkout.checkout")}),e.jsx(os,{currentStep:a})]}),e.jsx("div",{className:"bg-card rounded-lg shadow-sm border p-6",children:l()})]})}),e.jsx(Ie,{})]})};export{ys as default};
